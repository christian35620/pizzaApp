<hr />
<form autocomplete="off" [formGroup]="forma" (ngSubmit)="guardar()">
    <div class="ingredients" formGroupName="orderDetails">
        <div class="btn-group" role="group" aria-label="Basic example">
            <button
                type="button"
                class="btn btn-secondary"
                *ngFor="let size of pizzaSizes"
                (click)="setPizzaSize(size)"
            >
                {{ size | titlecase }}
            </button>
        </div>

        <div class="checkbox-group" formArrayName="toppings">
            <div class="form-check-inline" *ngFor="let topping of availableToppings">
                <label class="form-check-label">
                    <input
                        type="checkbox"
                        class="form-check-input"
                        value="{{ topping }}"
                        (change)="setSelectedIngredient(topping)"
                    />
                    {{ topping | titlecase }}
                </label>
            </div>
        </div>
    </div>

    <div class="customer" formGroupName="customer">
        <h2 class="customer__title">Customer Details</h2>
        <div class="form-group row">
            <label class="col-2 col-form-label">Name</label>
            <div class="col">
                <input
                    class="form-control"
                    type="text"
                    placeholder="Name"
                    formControlName="name"
                    [class.is-invalid]="invalidName"
                />
                <small *ngIf="invalidName" class="text-danger">Type more than 5 letters</small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">Last Name</label>
            <div class="col">
                <input
                    class="form-control"
                    type="text"
                    placeholder="Last Name"
                    formControlName="lastName"
                    [class.is-invalid]="invalidLastName"
                />
                <small *ngIf="invalidLastName" class="text-danger">Type your last name</small>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-2 col-form-label">Phone Number</label>
            <div class="col">
                <input
                    class="form-control"
                    type="text"
                    placeholder="Phone Number"
                    formControlName="phone"
                    [class.is-invalid]="invalidPhone"
                />
                <small *ngIf="invalidPhone" class="text-danger">Type a valid phone number</small>
            </div>
        </div>
    </div>
    <div class="address">
        <h2 class="customer__title">Delivery Address</h2>
        <div class="form-group row" formGroupName="address">
            <label class="col-2 col-form-label">Street</label>
            <div class="form-row col">
                <div class="col">
                    <input
                        type="text"
                        class="form-control"
                        placeholder="Street"
                        formControlName="street"
                        [class.is-invalid]="invalidStreet"
                    />
                </div>

                <div class="col">
                    <input
                        type="text"
                        class="form-control"
                        placeholder="City"
                        formControlName="city"
                        [class.is-invalid]="invalidCity"
                    />
                </div>

                <div class="col">
                    <input
                        type="text"
                        class="form-control"
                        placeholder="Floor"
                        formControlName="floor"
                        [class.is-invalid]="invalidFloor"
                    />
                </div>

                <div class="col">
                    <input
                        type="text"
                        class="form-control"
                        placeholder="Apartment number"
                        formControlName="dept"
                        [class.is-invalid]="invalidDept"
                    />
                </div>
            </div>
        </div>
    </div>

    <!-- <div class="row">
        <div class="col">
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th>ID</th>
                        <th>Pasatiempo</th>
                        <th>Borrar</th>
                    </tr>
                </thead>
                <tbody formArrayName="pasatiempos">
                    <tr *ngFor="let control of pasatiempos.controls; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>
                            <input type="text" class="form-control" [formControlName]="i" />
                        </td>
                        <td>
                            <button (click)="borrarPasatiempo(i)" class="btn btn-danger">
                                Borrar
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <button (click)="agregarPasatiempo()" class="btn btn-primary mt-3 mb-5 btn-block">+Agregar</button>
        </div>
    </div> -->

    <div class="form-group row">
        <label class="col-2 col-form-label">&nbsp;</label>
        <div class="input-group col">
            <button type="submit" class="btn btn-outline-primary btn-block">
                Guardar
            </button>
        </div>
    </div>
</form>

<hr />
<pre>
    Estado del formulario: {{ forma.valid }}
    <br>
    Status: {{forma.status}}
</pre>

<pre>
    {{ forma.value | json }}
</pre>
<hr />
<hr />
<div class="d-flex">
    <label *ngFor="let ingredient of selectedToppings">
        {{ ingredient }}
    </label>
</div>
<app-orders></app-orders>
